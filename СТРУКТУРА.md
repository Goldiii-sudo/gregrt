# Структура проекта

## Файлы

### main.py
Точка входа в приложение. Запускает бота и регистрирует обработчики.

### config.py
Содержит все константы и конфигурацию:
- Токены API (BOT_TOKEN, NVIDIA_API_KEY)
- Модели (MODELS)
- Премиум пакеты (PREMIUM_TIERS)
- Пути к файлам

### handlers.py
Все обработчики команд и сообщений:
- Команды: /start, /ask, /model, /promo, /limits, /help
- Кнопки меню
- Callback-запросы (выбор модели, премиум)
- Обработка текста и фото

### ai_generator.py
Генерация контента через NVIDIA API:
- `generate_text()` - генерация текста через LLM
- `generate_image()` - генерация изображений
- `enhance_prompt()` - улучшение промптов

### user_manager.py
Управление данными пользователей:
- `load_user_data()` / `save_user_data()` - работа с JSON
- `get_user_limits()` - получение лимитов
- `check_limit()` / `decrease_limit()` - проверка и уменьшение лимитов
- `get_user_history()` / `add_to_history()` - история диалогов

### web_search.py
Поиск в интернете через DuckDuckGo:
- `web_search()` - поиск без API ключей

### keyboards.py
Клавиатуры для бота:
- `get_main_menu()` - главное меню
- `get_model_keyboard()` - выбор модели
- `get_image_model_keyboard()` - выбор модели изображений
- `get_premium_keyboard()` - премиум пакеты

### states.py
FSM состояния для aiogram:
- `waiting_for_prompt` - ожидание промпта
- `waiting_for_image` - ожидание фото
- `waiting_for_context_prompt` - ожидание описания для фото
- `waiting_for_search_query` - ожидание поискового запроса

## Запуск

### Windows
```
start.bat
```

### Linux/Mac
```bash
python main.py
```

## Преимущества модульной структуры

1. **Читаемость** - каждый файл отвечает за свою область
2. **Поддержка** - легко найти и исправить код
3. **Масштабируемость** - просто добавлять новые функции
4. **Тестирование** - можно тестировать модули отдельно
5. **Совместная работа** - разные разработчики могут работать над разными модулями
